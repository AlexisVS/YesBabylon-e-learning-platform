<section class="course-edit scrollbar-style" *ngIf="module">
    <div class="view">
        <div class="details">
            <div class="top-bar">
                <eq-string
                    [title]="'Module title'"
                    [hint]="'Title of the module'"
                    [value]="module.title"
                    [mode]="'edit'"
                    [size]="'large'"
                    [required]="true"
                    (valueChange)="updateModuleField($event, 'title')">
                </eq-string>
                <div class="actions">
                    <button mat-raised-button (click)="navigateToViewMode()" color="primary">View</button>
                </div>
            </div>

            <div class="container">
                <eq-text
                    [title]="'Module description'"
                    [hint]="'Description of the module'"
                    [value]="module.description"
                    [mode]="'edit'"
                    [size]="'normal'"
                    [required]="true"
                    (valueChange)="updateModuleField($event, 'description')"
                    [autoGrow]="true"
                    [minHeight]="88">
                </eq-text>

                <div class="additional-information">
                    <span class="last-update" title="Last modification date">
                        <mat-icon>schedule</mat-icon>
                        <span> {{ module.modified | date: 'shortDate' }}</span>
                    </span>

                    <div class="author" title="Author">
                        <mat-icon>person</mat-icon>
                        <span>Cédric François</span>
                    </div>

                    <div class="lessons-count" title="Lessons count">
                        <mat-icon>bookmark</mat-icon>
                        <span>{{ module.chapters?.length }}</span>
                    </div>

                    <div class="learning-time" title="Learning time">
                        <mat-icon>timer</mat-icon>
                        <span>{{ formatDuration(module.duration) }}</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="content">
            <h3 class="title text__course__title">Module lessons</h3>

            <div class="list">
                <app-course-module-lesson-list-item></app-course-module-lesson-list-item>
            </div>
        </div>
    </div>
</section>
